---
title: "Hugo"
date: 2023-02-05T02:52:52+03:00
tags:
  - Hugo
  - GitHub
  - Blog
image: "/images/post_pics/hugo/prev.png"
comments: false
---

# Создание блога с помощью Hugo+GitHub pages

Считаю правильным начать ведение этого блога с гайда по установке Hugo.

Hugo - это открытый исходный генератор статических сайтов, который получил большую популярность среди блогеров и веб-разработчиков. Он используется для создания и поддержания веб-сайтов и блогов, основанных на статических страницах. Для контента Hugo использует в качестве языка разметки Markdown.

Одним из основных преимуществ Hugo является его скорость. Он может генерировать статические страницы в считанные секунды, что позволяет увеличить скорость загрузки сайта и улучшить пользовательский опыт.

Hugo также обладает множеством тем и шаблонов, которые можно использовать для персонализации своего сайта. Вы также можете настраивать свои публикации используя метаданные, вставлять медиа-файлы и многое другое. Это делает Hugo хорошим выбором для людей, которые ищут инструмент для создания личного сайта.

> Вся настройка и дальнейшее использование Hugo будет непосредственно в терминале.

## Необходимый софт для реализации

- [hugo](https://gohugo.io/)

- [git](https://git-scm.com/)

## Установка Hugo

Разработчики Hugo подробно описали методы установки на популярные ОС в [документации](https://gohugo.io/getting-started/installing/). Ниже приведу пару примеров

#### Установка на Linux Fedora

1. Обновите список пакетов:

`sudo dnf update`

2. Установите последнюю версию Hugo:

`sudo dnf install hugo`

#### Установка на macOS

1. Установите [Homebrew](https://brew.sh/):

`/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"`

2. Установите последнюю версию Hugo:

`brew install hugo`

## Создание своего первого сайта

Создайте новый сайт с помощью Hugo:

`hugo new site mysite`

Перейдите в папку сайта:

`cd mysite`

Выбери подходящую тему для своего блога на сайте Hugo и подключи его через git submodule. Например, тема mediumish может быть добавлена командой:

`git submodule add https://github.com/lgaida/mediumish-gohugo-theme themes/mediumish`

> Ты можешь скачать тему в директорию `<OWNER>.github.io/themes` или склонировать репозиторий темы. Использование git submodule позволяет легко обновлять тему из источника. Дополнительные модули можно добавить в директорию `<OWNER>.github.io/layouts`. О выборе между git clone или git submodule для тем Hugo можно прочитать в [обсуждениях](https://discourse.gohugo.io/t/adding-a-theme-as-a-submodule-or-clone/8789).

Настало время настроить сайт. Рекомендую взять стандартный `config.toml`, который можно найти в деректории скаченой темы `themes/mediumish`, не забудь изменить параметры под свой сайт. Ниже приведёны те строки которые нужно изменить под себя:

```
# Адрес твоего сайта
baseURL = "https://<OWNER>.github.io/"

# Язык сайта(либо любой другой)
languageCode = "ru-ru"

# Название твоего сайт
title = "Название блога"

# Используемая тема
theme = "mediumish"

# Сюда Hugo сохранит сгенерированный сайт
publishdir = "./docs/"
```

> Мы используем для хостинга GitHub Pages. Поэтому URL-адрес задаётся по шаблону `https://<OWNER>.github.io/`.
> 
> Hugo во время генерации помещает все файлы готового сайта в директорию `public`, а GitHub Pages может создать страницу либо из корня репозитория, либо из директории `docs`. Поэтому в конфигурационном файле добавляем строчку `publishDir = "docs"`. Это укажет генератору, что теперь файлы следует сохранять в `docs`.

Теперь сгенерируем сайт. Для этого, находясь в корне проекта, выполняем следующую команду:

`hugo`

Запустим сервер разработки Hugo, чтобы просмотреть сайт.

`hugo server`

Пришло время создать первый пост. Но перед этим заменим дефолтный шаблон постов и заменим его на шаблон скаченной темы. Переходим в следующую деррикторию `themes/mediumish/archetypes/` . Отрываем в этой папке файл `default.md` и содержимое файла вставляем в `~/mysite/archetypes/default.md`.

Теперь можно создать пост. Вводим следующую команду:

`hugo new posts/my-first-post.md`

Hugo создал файл в `content/posts`каталог. Откройте файл в вашем редакторе.

```text
---
title: "My First Post"
date: 2022-11-20T09:03:20-08:00
draft: true
---
```

Обратите внимание на `draft` со значением `true`. По умолчанию Hugo не публикует черновой контент при создании сайта. Не меняем значение черновика, сделаем это позже.

```text
---
title: "Навание поста"
date: 2022-11-20T09:03:20-08:00
draft: true
---
## Заголовок

Текст поста
```

Сохраните файл, затем запустите сервер разработки Hugo, чтобы просмотреть сайт. 
Чтобы включить черновик в следующий билд, вводим следующую команду:

`hugo -D`

## Подготовка GitHub

Сайт готов к выгрузке во внешниий репозиторий GitHub. Для начал перейдём в свой профиль на GitHub и создадим публичный репозиторий. После создания производим первичную настройку и связываем нашу дерикторию с созданым репозиторием.

После успешного деплоя сайта в репозиторий, открываем настройки репозитория и идем в раздел Settings

![1.png](/images/post_pics/hugo/1.png)

Далее в Pages

![2.png](/images/post_pics/hugo/2.png)

И производим настройку репозитория данным образом

![3.png](/images/post_pics/hugo/3.png)

Теперь снова вернёмся в терминал и в корневой папке сайта выполним следующие команды:

```
git add .
git commit -m 'Publish site'
git push
```

## Заключение

На этом создание сайта закончилось. Теперь можно перейти на свой созданый сайт, ссылку на который указывали в конфигурационном файле.
