<!DOCTYPE html>
<html>
<head>
  <title>ChatGPT API Chat</title>
  <style>
   #chat-container {
  width: 500px;
  height: 500px;
  margin: 0 auto;
  border: 1px solid black;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

#user-input-container {
  display: flex;
  justify-content: space-between;
  padding: 10px;
}

#user-input {
  width: 80%;
  height: 30px;
}

#chat-window {
  height: 400px;
  overflow-y: scroll;
  padding: 10px;
}

.chat-message {
  margin-bottom: 10px;
}

.user-message {
  text-align: right;
}

.chatbot-message {
  text-align: left;
}
  </style>
</head>
<body>
  <div id="chat-container">
  <div id="user-input-container">
    <input type="text" id="user-input"/>
    <button id="submit-btn">Submit</button>
  </div>
  <div id="chat-window">
    <div id="chat-history"></div>
  </div>
</div>
  <script>
const API_KEY = "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";
const ENGINE_ID = "davinci";
const PROMPT = "Hello, how can I help you today?";
const MAX_LENGTH = 1024;

async function sendRequestToChatGPT(text) {
  const response = await fetch("https://api.openai.com/v1/engines/" + ENGINE_ID + "/jobs", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": "Bearer " + API_KEY
    },
    body: JSON.stringify({
      prompt: text,
      max_tokens: MAX_LENGTH,
      n: 1,
      stop: "",
      temperature: 0.5
    })
  });

  if (!response.ok) {
    throw new Error(`Unable to get response from API, status code: ${response.status}`);
  }

  const responseJSON = await response.json();
  const chatResponse = responseJSON.choices[0].text;

  return chatResponse;
}

async function handleSubmit(event) {
  event.preventDefault();
  const inputText = document.getElementById("inputText").value;
  const chatResponse = await sendRequestToChatGPT(inputText);

  const chatWindow = document.getElementById("chatWindow");
  const newMessage = document.createElement("p");
  newMessage.innerHTML = `You: ${inputText}<br>ChatGPT: ${chatResponse}`;
  chatWindow.appendChild(newMessage);
}

document.addEventListener("DOMContentLoaded", function() {
  const submitButton = document.getElementById("submitButton");
  submitButton.addEventListener("click", handleSubmit);

  const chatWindow = document.getElementById("chatWindow");
  const newMessage = document.createElement("p");
  newMessage.innerHTML = `ChatGPT: ${PROMPT}`;
  chatWindow.appendChild(newMessage);
});
  </script>
</body>
</html>
